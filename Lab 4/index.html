<!DOCTYPE html>
<html>

  <head>
    
  </head>

  <body>
      
      <canvas id="canvas" width=800 height=600></canvas>
      <button id="reset" onclick="clearLocal()">RESET</button>
      
        <script>
      
                var can=document.getElementById("canvas");
                var context= can.getContext("2d");
                var colors=["blue","red","green","pink","orange","purple","yellow"];
                
                var x;
                var y;
                var width;
                var height;
                var color;
                var color1;
                var color2;
                var init;
            
                if(localStorage.getItem("inval")==null){
                        console.log("new biggenings");
                         x=300;
                         y=250;
                         width=100;
                         height=50;
                         color="pink";
                         color1=0;
                         color2=0;
                        context.fillStyle=color;
                        context.fillRect(x,y,width,height);
                }
            
                else{
                        console.log("same story");
                         x= parseInt(localStorage.getItem("xval"));
                         y= parseInt(localStorage.getItem("yval"));
                         width= parseInt(localStorage.getItem("wval"));
                         height= parseInt(localStorage.getItem("hval"));
                         color= localStorage.cval;
                         color1= 0;
                         color2= 0;
                        context.fillStyle=color;
                        context.fillRect(x,y,width,height);
                    
                }
            var key;
            var key;
            window.addEventListener('keydown', function(e){
                key=e.keyCode;
                updateCan();
            });
             window.addEventListener('keyup', function (e) {
                 key = false;
            });
            
                function updateCan(){
                    context.clearRect(0,0,800,600);
                    if (key && key == 37) { 
                        console.log(color1);
                            if(color1>6){
                                color1=0;
                                color=colors[color1];
                            }
                            if(color1<=6 || color1==0){
                                color=colors[color1];
                                console.log(color1);
                                color1++;
                                
                            }
                         }
                    if (key && key == 39) {
                            if(color2>6){
                                color2=0;
                                color=colors[color2];
    
                            }
                            if(color2<=6 || color2==0){
                                color=colors[color2];
                                color2++;
                            }
                        
                        }
                    if (key && key == 38) {
                        if(width<canvas.width-10 && height<canvas.height-10){
                                x -=5;
                                y -=5;
                                width*=1.1;
                                height*=1.1;
                            }
                         }
                    
                    if (key && key == 40) {
                        if(width>10 && height>10){
                            x += 5;
                            y += 5;
                            width*=.9; 
                            height*=.9;
                        }
                    }
                    context.fillStyle=color;
                    context.fillRect(x,y,width,height);
                    localStorage.xval=x;
                    localStorage.yval=y;
                    localStorage.wval=width;
                    localStorage.hval=height;
                    localStorage.cval=color;
                    init=1;
                    localStorage.inval=init;
                    
               }
            
            
                function clearLocal(){
                    localStorage.clear();
                }
      
        </script>
      
      
  </body>

</html>